[build]
  # Directory that contains the deploy-ready HTML files and assets generated by
  # the build. This is relative to the base directory if one has been set, or the
  # root directory if a base has not been set. This sample publishes the
  # directory located at the absolute path "root/project/build-output"
  publish = "client/"

  # Default build command.
  command = "yarn build:netlify"

[[headers]]
  # Define which paths this specific [[headers]] block will cover.
  for = "/.netlify/functions/graphql"
    [headers.values]
    Access-Control-Allow-Origin = "*"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

[functions]
  # Directory with serverless functions, including background functions,
  # to deploy. This is relative to the base directory if one has been set, 
  # or the root directory if a base hasnâ€™t been set.
  directory = "functions/"
  node_bundler = "esbuild"
  included_files = ["functions/config/schema.graphql"]
  external_node_modules = ["knex", "bcrypt", "sqlite3"]